# CodeStyle Wiki æ’ä»¶è¿ç§»è§„åˆ’æ–‡æ¡£

> å°† PocketFlow-Tutorial-Codebase-Knowledge è¿ç§»åˆ° codestyle-plugin-wiki æ¨¡å—
> 
> **é¡¹ç›®ç‰ˆæœ¬**: 4.1.0  
> **æ–‡æ¡£æ—¥æœŸ**: 2026-01-29

---

## ğŸ“‹ ç›®å½•

1. [é¡¹ç›®æ¦‚è¿°](#1-é¡¹ç›®æ¦‚è¿°)
2. [è¿ç§»ç›®æ ‡](#2-è¿ç§»ç›®æ ‡)
3. [æ¶æ„è®¾è®¡](#3-æ¶æ„è®¾è®¡)
4. [æ ¸å¿ƒåŠŸèƒ½è®¾è®¡](#4-æ ¸å¿ƒåŠŸèƒ½è®¾è®¡)
5. [æ•°æ®åº“è®¾è®¡](#5-æ•°æ®åº“è®¾è®¡)
6. [API è®¾è®¡](#6-api-è®¾è®¡)
7. [å®æ–½è®¡åˆ’](#7-å®æ–½è®¡åˆ’)

---

## 1. é¡¹ç›®æ¦‚è¿°

### 1.1 èƒŒæ™¯

**PocketFlow-Tutorial-Codebase-Knowledge** æ˜¯ä¸€ä¸ªåŸºäº AI çš„ä»£ç åº“çŸ¥è¯†æ„å»ºå·¥å…·ï¼Œèƒ½å¤Ÿï¼š
- è‡ªåŠ¨åˆ†æ GitHub ä»“åº“æˆ–æœ¬åœ°ä»£ç ç›®å½•
- è¯†åˆ«æ ¸å¿ƒæŠ½è±¡æ¦‚å¿µå’Œå®ƒä»¬ä¹‹é—´çš„å…³ç³»
- ç”Ÿæˆé€‚åˆåˆå­¦è€…çš„æ•™ç¨‹æ–‡æ¡£
- æ”¯æŒå¤šè¯­è¨€æ•™ç¨‹ç”Ÿæˆ

### 1.2 è¿ç§»ä»·å€¼

âœ… **ç»Ÿä¸€æŠ€æœ¯æ ˆ**ï¼šä¸ç°æœ‰ Spring Boot + Vue 3 æ¶æ„ä¿æŒä¸€è‡´  
âœ… **ä¼ä¸šçº§å¢å¼º**ï¼šæ·»åŠ æƒé™æ§åˆ¶ã€å¤šç§Ÿæˆ·ã€å®¡è®¡æ—¥å¿—ç­‰ä¼ä¸šç‰¹æ€§  
âœ… **æ•°æ®æŒä¹…åŒ–**ï¼šå°†ç”Ÿæˆçš„æ•™ç¨‹å­˜å‚¨åˆ°æ•°æ®åº“ï¼Œæ”¯æŒç‰ˆæœ¬ç®¡ç†  
âœ… **ç”¨æˆ·ä½“éªŒä¼˜åŒ–**ï¼šæä¾› Web UI ç•Œé¢ï¼Œæ”¯æŒåœ¨çº¿ç¼–è¾‘å’Œé¢„è§ˆ  
âœ… **é›†æˆç°æœ‰åŠŸèƒ½**ï¼šä¸ä»£ç ç”Ÿæˆå™¨ã€æœç´¢æ¨¡å—ç­‰åŠŸèƒ½è”åŠ¨

---

## 2. è¿ç§»ç›®æ ‡

### 2.1 æ ¸å¿ƒåŠŸèƒ½ï¼ˆP0ï¼‰

- [x] ä»£ç åº“åˆ†æï¼ˆGitHub ä»“åº“å’Œæœ¬åœ°ç›®å½•ï¼‰
- [x] æŠ½è±¡è¯†åˆ«ï¼ˆä½¿ç”¨ LLM è¯†åˆ«æ ¸å¿ƒæ¦‚å¿µï¼‰
- [x] å…³ç³»åˆ†æï¼ˆåˆ†ææŠ½è±¡ä¹‹é—´çš„äº¤äº’ï¼‰
- [x] æ•™ç¨‹ç”Ÿæˆï¼ˆè‡ªåŠ¨ç”Ÿæˆ Markdown æ•™ç¨‹ï¼‰
- [x] å¤šè¯­è¨€æ”¯æŒï¼ˆä¸­æ–‡ã€è‹±æ–‡ç­‰ï¼‰

### 2.2 ä¼ä¸šçº§å¢å¼ºï¼ˆP1ï¼‰

- [ ] æƒé™æ§åˆ¶ï¼ˆåŸºäº Sa-Tokenï¼‰
- [ ] å¤šç§Ÿæˆ·æ”¯æŒï¼ˆç§Ÿæˆ·çº§åˆ«æ•°æ®éš”ç¦»ï¼‰
- [ ] ç‰ˆæœ¬ç®¡ç†ï¼ˆæ•™ç¨‹ç‰ˆæœ¬æ§åˆ¶ï¼‰
- [ ] åœ¨çº¿ç¼–è¾‘ï¼ˆWeb ç•Œé¢ç¼–è¾‘é¢„è§ˆï¼‰
- [ ] å®¡æ ¸æµç¨‹ï¼ˆå‘å¸ƒå‰å®¡æ ¸ï¼‰

### 2.3 æ‰©å±•åŠŸèƒ½ï¼ˆP2ï¼‰

- [ ] å¢é‡æ›´æ–°ï¼ˆä»£ç å˜æ›´æ—¶å¢é‡æ›´æ–°ï¼‰
- [ ] åä½œç¼–è¾‘ï¼ˆå¤šäººå®æ—¶åä½œï¼‰
- [ ] å¯¼å‡ºåŠŸèƒ½ï¼ˆPDFã€HTML ç­‰æ ¼å¼ï¼‰
- [ ] æœç´¢é›†æˆï¼ˆä¸ search æ¨¡å—é›†æˆï¼‰

---

## 3. æ¶æ„è®¾è®¡

### 3.1 æ•´ä½“æ¶æ„

```
codestyle-plugin-wiki/
â”œâ”€â”€ Controller å±‚ (REST API)
â”‚   â”œâ”€â”€ WikiProjectController      # é¡¹ç›®ç®¡ç†
â”‚   â”œâ”€â”€ WikiTutorialController     # æ•™ç¨‹ç®¡ç†
â”‚   â”œâ”€â”€ WikiChapterController      # ç« èŠ‚ç®¡ç†
â”‚   â””â”€â”€ WikiGenerateController     # ç”Ÿæˆä»»åŠ¡ç®¡ç†
â”‚
â”œâ”€â”€ Service å±‚ (ä¸šåŠ¡é€»è¾‘)
â”‚   â”œâ”€â”€ WikiProjectService         # é¡¹ç›®æœåŠ¡
â”‚   â”œâ”€â”€ WikiTutorialService        # æ•™ç¨‹æœåŠ¡
â”‚   â”œâ”€â”€ WikiGenerateService        # ç”ŸæˆæœåŠ¡
â”‚   â””â”€â”€ WikiAnalysisService        # åˆ†ææœåŠ¡
â”‚
â”œâ”€â”€ Provider å±‚ (SPI å®ç°)
â”‚   â”œâ”€â”€ LlmProvider               # LLM æä¾›è€…æ¥å£
â”‚   â”‚   â”œâ”€â”€ GeminiLlmProvider     # Gemini å®ç°
â”‚   â”‚   â”œâ”€â”€ OpenAiLlmProvider     # OpenAI å®ç°
â”‚   â”‚   â””â”€â”€ OllamaLlmProvider     # Ollama å®ç°
â”‚   â””â”€â”€ CodeSourceProvider        # ä»£ç æºæä¾›è€…æ¥å£
â”‚       â”œâ”€â”€ GitHubSourceProvider  # GitHub å®ç°
â”‚       â””â”€â”€ LocalSourceProvider   # æœ¬åœ°ç›®å½•å®ç°
â”‚
â”œâ”€â”€ Workflow å±‚ (å·¥ä½œæµå¼•æ“)
â”‚   â”œâ”€â”€ WikiGenerateWorkflow      # æ•™ç¨‹ç”Ÿæˆå·¥ä½œæµ
â”‚   â””â”€â”€ nodes/                    # å·¥ä½œæµèŠ‚ç‚¹
â”‚       â”œâ”€â”€ FetchCodeNode         # è·å–ä»£ç 
â”‚       â”œâ”€â”€ IdentifyAbstractionsNode  # è¯†åˆ«æŠ½è±¡
â”‚       â”œâ”€â”€ AnalyzeRelationshipsNode  # åˆ†æå…³ç³»
â”‚       â”œâ”€â”€ OrderChaptersNode     # æ’åºç« èŠ‚
â”‚       â”œâ”€â”€ WriteChaptersNode     # ç¼–å†™ç« èŠ‚
â”‚       â””â”€â”€ CombineTutorialNode   # ç»„åˆæ•™ç¨‹
â”‚
â””â”€â”€ Mapper å±‚ (æ•°æ®è®¿é—®)
    â”œâ”€â”€ WikiProjectMapper
    â”œâ”€â”€ WikiTutorialMapper
    â”œâ”€â”€ WikiChapterMapper
    â””â”€â”€ WikiGenerateTaskMapper
```

### 3.2 å·¥ä½œæµè®¾è®¡

```mermaid
flowchart TD
    Start([ç”¨æˆ·å‘èµ·ç”Ÿæˆè¯·æ±‚]) --> A[åˆ›å»ºç”Ÿæˆä»»åŠ¡]
    A --> B[FetchCodeNode<br/>è·å–ä»£ç æ–‡ä»¶]
    B --> C[IdentifyAbstractionsNode<br/>è¯†åˆ«æ ¸å¿ƒæŠ½è±¡]
    C --> D[AnalyzeRelationshipsNode<br/>åˆ†ææŠ½è±¡å…³ç³»]
    D --> E[OrderChaptersNode<br/>ç¡®å®šç« èŠ‚é¡ºåº]
    E --> F[WriteChaptersNode<br/>æ‰¹é‡ç¼–å†™ç« èŠ‚]
    F --> G[CombineTutorialNode<br/>ç»„åˆæ•™ç¨‹æ–‡ä»¶]
    G --> H[ä¿å­˜åˆ°æ•°æ®åº“]
    H --> End([ç”Ÿæˆå®Œæˆ])
```

---

## 4. æ ¸å¿ƒåŠŸèƒ½è®¾è®¡

### 4.1 LLM Provider æ¥å£

```java
/**
 * LLM æä¾›è€…æ¥å£
 */
public interface LlmProvider {
    
    /**
     * è°ƒç”¨ LLM
     * @param prompt æç¤ºè¯
     * @param systemPrompt ç³»ç»Ÿæç¤ºè¯
     * @param useCache æ˜¯å¦ä½¿ç”¨ç¼“å­˜
     * @return LLM å“åº”
     */
    String call(String prompt, String systemPrompt, boolean useCache);
    
    /**
     * è·å–æä¾›è€…ç±»å‹
     */
    LlmProviderType getType();
    
    /**
     * æ˜¯å¦å¯ç”¨
     */
    boolean isAvailable();
}
```

### 4.2 å·¥ä½œæµèŠ‚ç‚¹æ¥å£

```java
/**
 * å·¥ä½œæµèŠ‚ç‚¹åŸºç±»
 */
public abstract class BaseNode {
    
    /**
     * æ‰§è¡ŒèŠ‚ç‚¹é€»è¾‘
     * @param context å·¥ä½œæµä¸Šä¸‹æ–‡
     */
    public abstract void execute(WorkflowContext context);
    
    /**
     * èŠ‚ç‚¹åç§°
     */
    public abstract String getName();
    
    /**
     * æœ€å¤§é‡è¯•æ¬¡æ•°
     */
    protected int getMaxRetries() {
        return 3;
    }
}
```

### 4.3 æ ¸å¿ƒæœåŠ¡æ¥å£

```java
/**
 * Wiki ç”ŸæˆæœåŠ¡
 */
public interface WikiGenerateService {
    
    /**
     * åˆ›å»ºç”Ÿæˆä»»åŠ¡
     */
    Long createTask(WikiGenerateReq req);
    
    /**
     * æ‰§è¡Œç”Ÿæˆä»»åŠ¡ï¼ˆå¼‚æ­¥ï¼‰
     */
    void executeTask(Long taskId);
    
    /**
     * æŸ¥è¯¢ä»»åŠ¡çŠ¶æ€
     */
    WikiGenerateTaskResp getTaskStatus(Long taskId);
    
    /**
     * å–æ¶ˆä»»åŠ¡
     */
    void cancelTask(Long taskId);
}
```

---

## 5. æ•°æ®åº“è®¾è®¡

### 5.1 é¡¹ç›®è¡¨ (wiki_project)

```sql
CREATE TABLE `wiki_project` (
  `id` bigint NOT NULL COMMENT 'ID',
  `name` varchar(100) NOT NULL COMMENT 'é¡¹ç›®åç§°',
  `description` varchar(500) COMMENT 'é¡¹ç›®æè¿°',
  `source_type` tinyint NOT NULL COMMENT 'ä»£ç æºç±»å‹ï¼ˆ1:GitHub 2:æœ¬åœ°ï¼‰',
  `source_url` varchar(500) COMMENT 'æºåœ°å€',
  `language` varchar(20) DEFAULT 'zh-CN' COMMENT 'æ•™ç¨‹è¯­è¨€',
  `status` tinyint DEFAULT 1 COMMENT 'çŠ¶æ€ï¼ˆ1:å¯ç”¨ 2:ç¦ç”¨ï¼‰',
  `tenant_id` bigint DEFAULT 0 COMMENT 'ç§Ÿæˆ·ID',
  `create_user` bigint COMMENT 'åˆ›å»ºäºº',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
  `update_user` bigint COMMENT 'ä¿®æ”¹äºº',
  `update_time` datetime ON UPDATE CURRENT_TIMESTAMP COMMENT 'ä¿®æ”¹æ—¶é—´',
  `deleted` bigint DEFAULT 0 COMMENT 'é€»è¾‘åˆ é™¤',
  PRIMARY KEY (`id`),
  KEY `idx_tenant_id` (`tenant_id`),
  KEY `idx_create_time` (`create_time`)
) ENGINE=InnoDB COMMENT='Wikié¡¹ç›®è¡¨';
```

### 5.2 æ•™ç¨‹è¡¨ (wiki_tutorial)

```sql
CREATE TABLE `wiki_tutorial` (
  `id` bigint NOT NULL COMMENT 'ID',
  `project_id` bigint NOT NULL COMMENT 'é¡¹ç›®ID',
  `version` varchar(50) NOT NULL COMMENT 'ç‰ˆæœ¬å·',
  `summary` text COMMENT 'é¡¹ç›®æ‘˜è¦',
  `mermaid_diagram` text COMMENT 'Mermaidå…³ç³»å›¾',
  `status` tinyint DEFAULT 1 COMMENT 'çŠ¶æ€ï¼ˆ1:è‰ç¨¿ 2:å·²å‘å¸ƒï¼‰',
  `publish_time` datetime COMMENT 'å‘å¸ƒæ—¶é—´',
  `tenant_id` bigint DEFAULT 0 COMMENT 'ç§Ÿæˆ·ID',
  `create_user` bigint COMMENT 'åˆ›å»ºäºº',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
  `update_user` bigint COMMENT 'ä¿®æ”¹äºº',
  `update_time` datetime ON UPDATE CURRENT_TIMESTAMP COMMENT 'ä¿®æ”¹æ—¶é—´',
  `deleted` bigint DEFAULT 0 COMMENT 'é€»è¾‘åˆ é™¤',
  PRIMARY KEY (`id`),
  KEY `idx_project_id` (`project_id`),
  KEY `idx_tenant_id` (`tenant_id`)
) ENGINE=InnoDB COMMENT='Wikiæ•™ç¨‹è¡¨';
```

### 5.3 ç« èŠ‚è¡¨ (wiki_chapter)

```sql
CREATE TABLE `wiki_chapter` (
  `id` bigint NOT NULL COMMENT 'ID',
  `tutorial_id` bigint NOT NULL COMMENT 'æ•™ç¨‹ID',
  `abstraction_id` bigint NOT NULL COMMENT 'æŠ½è±¡ID',
  `chapter_order` int NOT NULL COMMENT 'ç« èŠ‚é¡ºåº',
  `title` varchar(200) NOT NULL COMMENT 'ç« èŠ‚æ ‡é¢˜',
  `content` longtext NOT NULL COMMENT 'ç« èŠ‚å†…å®¹ï¼ˆMarkdownï¼‰',
  `tenant_id` bigint DEFAULT 0 COMMENT 'ç§Ÿæˆ·ID',
  `create_user` bigint COMMENT 'åˆ›å»ºäºº',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
  `update_user` bigint COMMENT 'ä¿®æ”¹äºº',
  `update_time` datetime ON UPDATE CURRENT_TIMESTAMP COMMENT 'ä¿®æ”¹æ—¶é—´',
  `deleted` bigint DEFAULT 0 COMMENT 'é€»è¾‘åˆ é™¤',
  PRIMARY KEY (`id`),
  KEY `idx_tutorial_id` (`tutorial_id`),
  KEY `idx_chapter_order` (`chapter_order`)
) ENGINE=InnoDB COMMENT='Wikiç« èŠ‚è¡¨';
```

### 5.4 æŠ½è±¡è¡¨ (wiki_abstraction)

```sql
CREATE TABLE `wiki_abstraction` (
  `id` bigint NOT NULL COMMENT 'ID',
  `tutorial_id` bigint NOT NULL COMMENT 'æ•™ç¨‹ID',
  `name` varchar(100) NOT NULL COMMENT 'æŠ½è±¡åç§°',
  `description` varchar(500) COMMENT 'æŠ½è±¡æè¿°',
  `related_files` json COMMENT 'ç›¸å…³æ–‡ä»¶åˆ—è¡¨',
  `tenant_id` bigint DEFAULT 0 COMMENT 'ç§Ÿæˆ·ID',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
  `deleted` bigint DEFAULT 0 COMMENT 'é€»è¾‘åˆ é™¤',
  PRIMARY KEY (`id`),
  KEY `idx_tutorial_id` (`tutorial_id`)
) ENGINE=InnoDB COMMENT='WikiæŠ½è±¡è¡¨';
```

### 5.5 å…³ç³»è¡¨ (wiki_relationship)

```sql
CREATE TABLE `wiki_relationship` (
  `id` bigint NOT NULL COMMENT 'ID',
  `tutorial_id` bigint NOT NULL COMMENT 'æ•™ç¨‹ID',
  `from_abstraction_id` bigint NOT NULL COMMENT 'æºæŠ½è±¡ID',
  `to_abstraction_id` bigint NOT NULL COMMENT 'ç›®æ ‡æŠ½è±¡ID',
  `label` varchar(100) COMMENT 'å…³ç³»æ ‡ç­¾',
  `tenant_id` bigint DEFAULT 0 COMMENT 'ç§Ÿæˆ·ID',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
  `deleted` bigint DEFAULT 0 COMMENT 'é€»è¾‘åˆ é™¤',
  PRIMARY KEY (`id`),
  KEY `idx_tutorial_id` (`tutorial_id`)
) ENGINE=InnoDB COMMENT='Wikiå…³ç³»è¡¨';
```

### 5.6 ç”Ÿæˆä»»åŠ¡è¡¨ (wiki_generate_task)

```sql
CREATE TABLE `wiki_generate_task` (
  `id` bigint NOT NULL COMMENT 'ID',
  `project_id` bigint NOT NULL COMMENT 'é¡¹ç›®ID',
  `status` tinyint DEFAULT 1 COMMENT 'çŠ¶æ€ï¼ˆ1:å¾…æ‰§è¡Œ 2:æ‰§è¡Œä¸­ 3:æˆåŠŸ 4:å¤±è´¥ï¼‰',
  `progress` int DEFAULT 0 COMMENT 'è¿›åº¦ï¼ˆ0-100ï¼‰',
  `current_node` varchar(50) COMMENT 'å½“å‰èŠ‚ç‚¹',
  `error_message` text COMMENT 'é”™è¯¯ä¿¡æ¯',
  `config` json COMMENT 'ç”Ÿæˆé…ç½®',
  `result` json COMMENT 'ç”Ÿæˆç»“æœ',
  `tenant_id` bigint DEFAULT 0 COMMENT 'ç§Ÿæˆ·ID',
  `create_user` bigint COMMENT 'åˆ›å»ºäºº',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
  `update_time` datetime ON UPDATE CURRENT_TIMESTAMP COMMENT 'ä¿®æ”¹æ—¶é—´',
  `deleted` bigint DEFAULT 0 COMMENT 'é€»è¾‘åˆ é™¤',
  PRIMARY KEY (`id`),
  KEY `idx_project_id` (`project_id`),
  KEY `idx_status` (`status`)
) ENGINE=InnoDB COMMENT='Wikiç”Ÿæˆä»»åŠ¡è¡¨';
```

---

## 6. API è®¾è®¡

### 6.1 é¡¹ç›®ç®¡ç† API

```java
@Tag(name = "Wiki é¡¹ç›®ç®¡ç† API")
@RestController
@RequestMapping("/wiki/project")
public class WikiProjectController {

    @Operation(summary = "æŸ¥è¯¢é¡¹ç›®åˆ—è¡¨")
    @SaCheckPermission("wiki:project:list")
    @GetMapping
    public PageResp<WikiProjectResp> page(WikiProjectQuery query, PageQuery pageQuery) {
        return wikiProjectService.page(query, pageQuery);
    }

    @Operation(summary = "æ–°å¢é¡¹ç›®")
    @SaCheckPermission("wiki:project:create")
    @PostMapping
    public Long add(@Valid @RequestBody WikiProjectReq req) {
        return wikiProjectService.add(req);
    }

    @Operation(summary = "ä¿®æ”¹é¡¹ç›®")
    @SaCheckPermission("wiki:project:update")
    @PutMapping("/{id}")
    public void update(@Valid @RequestBody WikiProjectReq req, @PathVariable Long id) {
        wikiProjectService.update(req, id);
    }

    @Operation(summary = "åˆ é™¤é¡¹ç›®")
    @SaCheckPermission("wiki:project:delete")
    @DeleteMapping
    public void delete(@RequestBody List<Long> ids) {
        wikiProjectService.delete(ids);
    }
}
```

### 6.2 ç”Ÿæˆä»»åŠ¡ API

```java
@Tag(name = "Wiki ç”Ÿæˆä»»åŠ¡ API")
@RestController
@RequestMapping("/wiki/generate")
public class WikiGenerateController {

    @Operation(summary = "åˆ›å»ºç”Ÿæˆä»»åŠ¡")
    @SaCheckPermission("wiki:generate:create")
    @PostMapping
    public Long createTask(@Valid @RequestBody WikiGenerateReq req) {
        return wikiGenerateService.createTask(req);
    }

    @Operation(summary = "æŸ¥è¯¢ä»»åŠ¡çŠ¶æ€")
    @SaCheckPermission("wiki:generate:query")
    @GetMapping("/{taskId}")
    public WikiGenerateTaskResp getTaskStatus(@PathVariable Long taskId) {
        return wikiGenerateService.getTaskStatus(taskId);
    }

    @Operation(summary = "å–æ¶ˆä»»åŠ¡")
    @SaCheckPermission("wiki:generate:cancel")
    @PostMapping("/{taskId}/cancel")
    public void cancelTask(@PathVariable Long taskId) {
        wikiGenerateService.cancelTask(taskId);
    }
}
```

### 6.3 æ•™ç¨‹ç®¡ç† API

```java
@Tag(name = "Wiki æ•™ç¨‹ç®¡ç† API")
@RestController
@RequestMapping("/wiki/tutorial")
public class WikiTutorialController {

    @Operation(summary = "æŸ¥è¯¢æ•™ç¨‹åˆ—è¡¨")
    @SaCheckPermission("wiki:tutorial:list")
    @GetMapping
    public PageResp<WikiTutorialResp> page(WikiTutorialQuery query, PageQuery pageQuery) {
        return wikiTutorialService.page(query, pageQuery);
    }

    @Operation(summary = "æŸ¥è¯¢æ•™ç¨‹è¯¦æƒ…")
    @SaCheckPermission("wiki:tutorial:query")
    @GetMapping("/{id}")
    public WikiTutorialDetailResp getDetail(@PathVariable Long id) {
        return wikiTutorialService.getDetail(id);
    }

    @Operation(summary = "å‘å¸ƒæ•™ç¨‹")
    @SaCheckPermission("wiki:tutorial:publish")
    @PostMapping("/{id}/publish")
    public void publish(@PathVariable Long id) {
        wikiTutorialService.publish(id);
    }

    @Operation(summary = "å¯¼å‡ºæ•™ç¨‹")
    @SaCheckPermission("wiki:tutorial:export")
    @GetMapping("/{id}/export")
    public void export(@PathVariable Long id, HttpServletResponse response) {
        wikiTutorialService.export(id, response);
    }
}
```

---

## 7. å®æ–½è®¡åˆ’

### 7.1 é˜¶æ®µä¸€ï¼šåŸºç¡€æ¶æ„æ­å»ºï¼ˆ1-2å‘¨ï¼‰

**ç›®æ ‡**ï¼šå®Œæˆæ¨¡å—åŸºç¡€æ¶æ„å’Œæ ¸å¿ƒæ¥å£å®šä¹‰

- [ ] åˆ›å»º codestyle-plugin-wiki æ¨¡å—
- [ ] é…ç½® Maven ä¾èµ–
- [ ] å®šä¹‰æ•°æ®åº“è¡¨ç»“æ„
- [ ] åˆ›å»ºå®ä½“ç±»å’Œ Mapper
- [ ] å®šä¹‰ SPI æ¥å£ï¼ˆLlmProviderã€CodeSourceProviderï¼‰
- [ ] å®ç°é…ç½®ç±»ï¼ˆWikiPropertiesã€LlmConfigï¼‰

**äº¤ä»˜ç‰©**ï¼š
- æ¨¡å—ç›®å½•ç»“æ„
- æ•°æ®åº“å»ºè¡¨è„šæœ¬
- æ ¸å¿ƒæ¥å£å®šä¹‰

### 7.2 é˜¶æ®µäºŒï¼šLLM é›†æˆï¼ˆ1-2å‘¨ï¼‰

**ç›®æ ‡**ï¼šå®ç° LLM æä¾›è€…å’Œç¼“å­˜æœºåˆ¶

- [ ] å®ç° GeminiLlmProvider
- [ ] å®ç° OpenAiLlmProvider
- [ ] å®ç° OllamaLlmProvider
- [ ] å®ç° Redis ç¼“å­˜æœºåˆ¶
- [ ] å®ç°æç¤ºè¯æ¨¡æ¿ç®¡ç†
- [ ] ç¼–å†™å•å…ƒæµ‹è¯•

**äº¤ä»˜ç‰©**ï¼š
- LLM æä¾›è€…å®ç°
- ç¼“å­˜æœºåˆ¶
- å•å…ƒæµ‹è¯•

### 7.3 é˜¶æ®µä¸‰ï¼šå·¥ä½œæµå¼•æ“ï¼ˆ2-3å‘¨ï¼‰

**ç›®æ ‡**ï¼šå®ç°æ•™ç¨‹ç”Ÿæˆå·¥ä½œæµ

- [ ] å®ç° FetchCodeNodeï¼ˆè·å–ä»£ç ï¼‰
- [ ] å®ç° IdentifyAbstractionsNodeï¼ˆè¯†åˆ«æŠ½è±¡ï¼‰
- [ ] å®ç° AnalyzeRelationshipsNodeï¼ˆåˆ†æå…³ç³»ï¼‰
- [ ] å®ç° OrderChaptersNodeï¼ˆæ’åºç« èŠ‚ï¼‰
- [ ] å®ç° WriteChaptersNodeï¼ˆç¼–å†™ç« èŠ‚ï¼‰
- [ ] å®ç° CombineTutorialNodeï¼ˆç»„åˆæ•™ç¨‹ï¼‰
- [ ] å®ç° WorkflowExecutorï¼ˆå·¥ä½œæµæ‰§è¡Œå™¨ï¼‰
- [ ] å®ç°å¼‚æ­¥ä»»åŠ¡æ‰§è¡Œ

**äº¤ä»˜ç‰©**ï¼š
- å·¥ä½œæµèŠ‚ç‚¹å®ç°
- å·¥ä½œæµæ‰§è¡Œå™¨
- å¼‚æ­¥ä»»åŠ¡æœºåˆ¶

### 7.4 é˜¶æ®µå››ï¼šä¸šåŠ¡æœåŠ¡å±‚ï¼ˆ1-2å‘¨ï¼‰

**ç›®æ ‡**ï¼šå®ç°ä¸šåŠ¡é€»è¾‘å’Œ API æ¥å£

- [ ] å®ç° WikiProjectService
- [ ] å®ç° WikiTutorialService
- [ ] å®ç° WikiGenerateService
- [ ] å®ç° Controller å±‚
- [ ] æ·»åŠ æƒé™æ§åˆ¶
- [ ] æ·»åŠ å¤šç§Ÿæˆ·æ”¯æŒ

**äº¤ä»˜ç‰©**ï¼š
- Service å±‚å®ç°
- Controller å±‚å®ç°
- API æ–‡æ¡£

### 7.5 é˜¶æ®µäº”ï¼šå‰ç«¯å¼€å‘ï¼ˆ2-3å‘¨ï¼‰

**ç›®æ ‡**ï¼šå®ç° Web UI ç•Œé¢

- [ ] é¡¹ç›®ç®¡ç†é¡µé¢
- [ ] æ•™ç¨‹åˆ—è¡¨é¡µé¢
- [ ] æ•™ç¨‹è¯¦æƒ…é¡µé¢
- [ ] ç”Ÿæˆä»»åŠ¡é¡µé¢
- [ ] Markdown ç¼–è¾‘å™¨é›†æˆ
- [ ] Mermaid å›¾è¡¨æ¸²æŸ“

**äº¤ä»˜ç‰©**ï¼š
- å‰ç«¯é¡µé¢
- ç»„ä»¶åº“
- ç”¨æˆ·æ‰‹å†Œ

### 7.6 é˜¶æ®µå…­ï¼šæµ‹è¯•ä¸ä¼˜åŒ–ï¼ˆ1-2å‘¨ï¼‰

**ç›®æ ‡**ï¼šæµ‹è¯•å’Œæ€§èƒ½ä¼˜åŒ–

- [ ] å•å…ƒæµ‹è¯•ï¼ˆè¦†ç›–ç‡ > 70%ï¼‰
- [ ] é›†æˆæµ‹è¯•
- [ ] æ€§èƒ½æµ‹è¯•
- [ ] å®‰å…¨æµ‹è¯•
- [ ] ä»£ç å®¡æŸ¥
- [ ] æ–‡æ¡£å®Œå–„

**äº¤ä»˜ç‰©**ï¼š
- æµ‹è¯•æŠ¥å‘Š
- æ€§èƒ½ä¼˜åŒ–æŠ¥å‘Š
- å®Œæ•´æ–‡æ¡£

### 7.7 æ€»ä½“æ—¶é—´çº¿

```
Week 1-2:  é˜¶æ®µä¸€ - åŸºç¡€æ¶æ„æ­å»º
Week 3-4:  é˜¶æ®µäºŒ - LLM é›†æˆ
Week 5-7:  é˜¶æ®µä¸‰ - å·¥ä½œæµå¼•æ“
Week 8-9:  é˜¶æ®µå›› - ä¸šåŠ¡æœåŠ¡å±‚
Week 10-12: é˜¶æ®µäº” - å‰ç«¯å¼€å‘
Week 13-14: é˜¶æ®µå…­ - æµ‹è¯•ä¸ä¼˜åŒ–

æ€»è®¡ï¼šçº¦ 3-4 ä¸ªæœˆ
```

---

## 8. é…ç½®ç¤ºä¾‹

### 8.1 application-wiki.yml

```yaml
# Wiki æ¨¡å—é…ç½®
wiki:
  enabled: true
  
  # LLM é…ç½®
  llm:
    # é»˜è®¤æä¾›å•†ï¼ˆGEMINI, OPENAI, OLLAMAï¼‰
    default-provider: GEMINI
    
    # Gemini é…ç½®
    gemini:
      enabled: true
      api-key: ${GEMINI_API_KEY}
      model: gemini-2.0-flash-exp
      base-url: https://generativelanguage.googleapis.com
    
    # OpenAI é…ç½®
    openai:
      enabled: false
      api-key: ${OPENAI_API_KEY}
      model: gpt-4
      base-url: https://api.openai.com
    
    # Ollama é…ç½®
    ollama:
      enabled: false
      base-url: http://localhost:11434
      model: llama2
    
    # ç¼“å­˜é…ç½®
    cache:
      enabled: true
      ttl: 86400  # 24å°æ—¶
  
  # ä»£ç æºé…ç½®
  source:
    # GitHub é…ç½®
    github:
      token: ${GITHUB_TOKEN}
      timeout: 30000
    
    # æœ¬åœ°ç›®å½•é…ç½®
    local:
      base-path: /data/wiki/repos
  
  # ç”Ÿæˆé…ç½®
  generate:
    # æœ€å¤§æŠ½è±¡æ•°é‡
    max-abstractions: 10
    # æœ€å¤§æ–‡ä»¶å¤§å°ï¼ˆå­—èŠ‚ï¼‰
    max-file-size: 100000
    # é»˜è®¤åŒ…å«æ¨¡å¼
    default-include-patterns:
      - "*.java"
      - "*.py"
      - "*.js"
      - "*.ts"
    # é»˜è®¤æ’é™¤æ¨¡å¼
    default-exclude-patterns:
      - "*/test/*"
      - "*/tests/*"
      - "*/node_modules/*"
      - "*/target/*"
      - "*/build/*"
  
  # å¼‚æ­¥ä»»åŠ¡é…ç½®
  async:
    core-pool-size: 5
    max-pool-size: 10
    queue-capacity: 100
```

---

## 9. å…³é”®æŠ€æœ¯ç‚¹

### 9.1 éµå¾ª CodeStyle æœ€ä½³å®è·µ

âœ… **ä»£ç é£æ ¼**ï¼šä½¿ç”¨ P3C é˜¿é‡Œå·´å·´ç¼–ç è§„èŒƒ  
âœ… **åˆ†å±‚æ¶æ„**ï¼šController â†’ Service â†’ Mapper  
âœ… **æƒé™æ§åˆ¶**ï¼šä½¿ç”¨ `@SaCheckPermission` æ³¨è§£  
âœ… **å¤šç§Ÿæˆ·**ï¼šä½¿ç”¨ `TenantContextHolder`  
âœ… **å¼‚å¸¸å¤„ç†**ï¼šç»Ÿä¸€å¼‚å¸¸å¤„ç†å™¨  
âœ… **å‚æ•°æ ¡éªŒ**ï¼šä½¿ç”¨ JSR-303 æ³¨è§£  
âœ… **æ—¥å¿—è®°å½•**ï¼šä½¿ç”¨ `@Slf4j` æ³¨è§£  
âœ… **äº‹åŠ¡ç®¡ç†**ï¼šä½¿ç”¨ `@Transactional` æ³¨è§£

### 9.2 æ ¸å¿ƒæŠ€æœ¯éš¾ç‚¹

**1. LLM è°ƒç”¨ç¨³å®šæ€§**
- å®ç°é‡è¯•æœºåˆ¶ï¼ˆæœ€å¤š 5 æ¬¡ï¼‰
- å®ç°è¶…æ—¶æ§åˆ¶ï¼ˆ30 ç§’ï¼‰
- å®ç°å“åº”ç¼“å­˜ï¼ˆRedisï¼‰
- å®ç°é™çº§ç­–ç•¥ï¼ˆå¤šä¸ª LLM æä¾›å•†ï¼‰

**2. å·¥ä½œæµå¯é æ€§**
- å®ç°èŠ‚ç‚¹çŠ¶æ€æŒä¹…åŒ–
- å®ç°æ–­ç‚¹ç»­ä¼ 
- å®ç°é”™è¯¯æ¢å¤
- å®ç°è¿›åº¦è¿½è¸ª

**3. å¤§æ–‡ä»¶å¤„ç†**
- å®ç°æ–‡ä»¶è¿‡æ»¤ï¼ˆå¤§å°ã€ç±»å‹ï¼‰
- å®ç°åˆ†æ‰¹å¤„ç†
- å®ç°æµå¼è¯»å–
- å®ç°å†…å­˜ä¼˜åŒ–

**4. å¹¶å‘æ§åˆ¶**
- ä½¿ç”¨ Redisson åˆ†å¸ƒå¼é”
- ä½¿ç”¨çº¿ç¨‹æ± ç®¡ç†
- ä½¿ç”¨å¼‚æ­¥ä»»åŠ¡
- ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆå¯é€‰ï¼‰

---

## 10. é£é™©è¯„ä¼°

### 10.1 æŠ€æœ¯é£é™©

| é£é™© | å½±å“ | æ¦‚ç‡ | åº”å¯¹æªæ–½ |
|------|------|------|---------|
| LLM API ä¸ç¨³å®š | é«˜ | ä¸­ | å¤šæä¾›å•†æ”¯æŒã€é‡è¯•æœºåˆ¶ã€é™çº§ç­–ç•¥ |
| å¤§ä»£ç åº“å¤„ç†æ…¢ | ä¸­ | é«˜ | æ–‡ä»¶è¿‡æ»¤ã€åˆ†æ‰¹å¤„ç†ã€å¼‚æ­¥æ‰§è¡Œ |
| å†…å­˜æº¢å‡º | é«˜ | ä¸­ | æµå¼è¯»å–ã€åˆ†æ‰¹å¤„ç†ã€å†…å­˜ç›‘æ§ |
| å¹¶å‘å†²çª | ä¸­ | ä½ | åˆ†å¸ƒå¼é”ã€ä»»åŠ¡é˜Ÿåˆ— |

### 10.2 ä¸šåŠ¡é£é™©

| é£é™© | å½±å“ | æ¦‚ç‡ | åº”å¯¹æªæ–½ |
|------|------|------|---------|
| ç”Ÿæˆè´¨é‡ä¸ç¨³å®š | é«˜ | ä¸­ | æç¤ºè¯ä¼˜åŒ–ã€äººå·¥å®¡æ ¸ã€ç‰ˆæœ¬ç®¡ç† |
| æˆæœ¬è¿‡é«˜ | ä¸­ | ä¸­ | ç¼“å­˜æœºåˆ¶ã€æœ¬åœ° LLMã€é…é¢æ§åˆ¶ |
| ç”¨æˆ·ä½“éªŒå·® | ä¸­ | ä½ | è¿›åº¦æç¤ºã€å¼‚æ­¥å¤„ç†ã€ç»“æœé¢„è§ˆ |

---

## 11. æ€»ç»“

æœ¬è¿ç§»è§„åˆ’å°† PocketFlow-Tutorial-Codebase-Knowledge çš„æ ¸å¿ƒèƒ½åŠ›é›†æˆåˆ° CodeStyle é¡¹ç›®ä¸­ï¼Œå½¢æˆä¼ä¸šçº§çš„ Wiki æ•™ç¨‹ç”Ÿæˆæ’ä»¶ã€‚é€šè¿‡éµå¾ª CodeStyle æœ€ä½³å®è·µï¼Œå®ç°äº†ï¼š

âœ… **æŠ€æœ¯ç»Ÿä¸€**ï¼šSpring Boot + Vue 3 æŠ€æœ¯æ ˆ  
âœ… **ä¼ä¸šå¢å¼º**ï¼šæƒé™ã€å¤šç§Ÿæˆ·ã€å®¡è®¡ã€ç‰ˆæœ¬ç®¡ç†  
âœ… **ç”¨æˆ·å‹å¥½**ï¼šWeb UIã€åœ¨çº¿ç¼–è¾‘ã€å®æ—¶é¢„è§ˆ  
âœ… **é«˜å¯ç”¨**ï¼šå¼‚æ­¥å¤„ç†ã€ç¼“å­˜ä¼˜åŒ–ã€é”™è¯¯æ¢å¤  
âœ… **å¯æ‰©å±•**ï¼šSPI æœºåˆ¶ã€æ’ä»¶åŒ–è®¾è®¡

é¢„è®¡å¼€å‘å‘¨æœŸï¼š**3-4 ä¸ªæœˆ**

---

**æ–‡æ¡£ç»´æŠ¤**: CodeStyle Team  
**æœ€åæ›´æ–°**: 2026-01-29

