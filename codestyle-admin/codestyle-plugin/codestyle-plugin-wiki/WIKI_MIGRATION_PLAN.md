# CodeStyle Wiki æ’ä»¶è¿ç§»è§„åˆ’æ–‡æ¡£

> å°† PocketFlow-Tutorial-Codebase-Knowledge è¿ç§»åˆ° codestyle-plugin-wiki æ¨¡å—
> 
> **é¡¹ç›®ç‰ˆæœ¬**: 4.1.0  
> **æ–‡æ¡£æ—¥æœŸ**: 2026-01-29  
> **è§„åˆ’ä½œè€…**: CodeStyle Team

---

## ğŸ“‹ ç›®å½•

1. [é¡¹ç›®æ¦‚è¿°](#1-é¡¹ç›®æ¦‚è¿°)
2. [è¿ç§»ç›®æ ‡](#2-è¿ç§»ç›®æ ‡)
3. [æ¶æ„è®¾è®¡](#3-æ¶æ„è®¾è®¡)
4. [æŠ€æœ¯é€‰å‹](#4-æŠ€æœ¯é€‰å‹)
5. [æ¨¡å—ç»“æ„](#5-æ¨¡å—ç»“æ„)
6. [æ ¸å¿ƒåŠŸèƒ½è®¾è®¡](#6-æ ¸å¿ƒåŠŸèƒ½è®¾è®¡)
7. [æ•°æ®åº“è®¾è®¡](#7-æ•°æ®åº“è®¾è®¡)
8. [API è®¾è®¡](#8-api-è®¾è®¡)
9. [å‰ç«¯è®¾è®¡](#9-å‰ç«¯è®¾è®¡)
10. [å®æ–½è®¡åˆ’](#10-å®æ–½è®¡åˆ’)
11. [é£é™©è¯„ä¼°](#11-é£é™©è¯„ä¼°)
12. [é™„å½•](#12-é™„å½•)

---

## 1. é¡¹ç›®æ¦‚è¿°

### 1.1 èƒŒæ™¯

**PocketFlow-Tutorial-Codebase-Knowledge** æ˜¯ä¸€ä¸ªåŸºäº AI çš„ä»£ç åº“çŸ¥è¯†æ„å»ºå·¥å…·ï¼Œèƒ½å¤Ÿï¼š
- è‡ªåŠ¨åˆ†æ GitHub ä»“åº“æˆ–æœ¬åœ°ä»£ç ç›®å½•
- è¯†åˆ«æ ¸å¿ƒæŠ½è±¡æ¦‚å¿µå’Œå®ƒä»¬ä¹‹é—´çš„å…³ç³»
- ç”Ÿæˆé€‚åˆåˆå­¦è€…çš„æ•™ç¨‹æ–‡æ¡£
- æ”¯æŒå¤šè¯­è¨€æ•™ç¨‹ç”Ÿæˆ

### 1.2 è¿ç§»åŸå› 

å°†è¯¥åŠŸèƒ½é›†æˆåˆ° CodeStyle é¡¹ç›®ä¸­ï¼Œä½œä¸º **codestyle-plugin-wiki** æ’ä»¶æ¨¡å—ï¼Œå¯ä»¥ï¼š

âœ… **ç»Ÿä¸€æŠ€æœ¯æ ˆ**ï¼šä¸ç°æœ‰ Spring Boot + Vue 3 æ¶æ„ä¿æŒä¸€è‡´  
âœ… **ä¼ä¸šçº§å¢å¼º**ï¼šæ·»åŠ æƒé™æ§åˆ¶ã€å¤šç§Ÿæˆ·ã€å®¡è®¡æ—¥å¿—ç­‰ä¼ä¸šç‰¹æ€§  
âœ… **æ•°æ®æŒä¹…åŒ–**ï¼šå°†ç”Ÿæˆçš„æ•™ç¨‹å­˜å‚¨åˆ°æ•°æ®åº“ï¼Œæ”¯æŒç‰ˆæœ¬ç®¡ç†  
âœ… **ç”¨æˆ·ä½“éªŒä¼˜åŒ–**ï¼šæä¾› Web UI ç•Œé¢ï¼Œæ”¯æŒåœ¨çº¿ç¼–è¾‘å’Œé¢„è§ˆ  
âœ… **é›†æˆç°æœ‰åŠŸèƒ½**ï¼šä¸ä»£ç ç”Ÿæˆå™¨ã€æœç´¢æ¨¡å—ç­‰åŠŸèƒ½è”åŠ¨

### 1.3 æ ¸å¿ƒä»·å€¼

- **çŸ¥è¯†æ²‰æ·€**ï¼šå°†é¡¹ç›®ä»£ç åº“è½¬åŒ–ä¸ºå¯æŒä¹…åŒ–çš„çŸ¥è¯†æ–‡æ¡£
- **å›¢é˜Ÿåä½œ**ï¼šæ”¯æŒå¤šäººåä½œç¼–è¾‘å’Œå®¡æ ¸æ•™ç¨‹
- **å¿«é€Ÿä¸Šæ‰‹**ï¼šæ–°æˆå‘˜é€šè¿‡ AI ç”Ÿæˆçš„æ•™ç¨‹å¿«é€Ÿç†è§£é¡¹ç›®æ¶æ„
- **æŒç»­æ›´æ–°**ï¼šä»£ç å˜æ›´æ—¶å¯é‡æ–°ç”Ÿæˆæˆ–å¢é‡æ›´æ–°æ•™ç¨‹

---

## 2. è¿ç§»ç›®æ ‡

### 2.1 åŠŸèƒ½ç›®æ ‡

#### æ ¸å¿ƒåŠŸèƒ½ï¼ˆP0 - å¿…é¡»å®ç°ï¼‰

- [x] **ä»£ç åº“åˆ†æ**ï¼šæ”¯æŒ GitHub ä»“åº“å’Œæœ¬åœ°ç›®å½•åˆ†æ
- [x] **æŠ½è±¡è¯†åˆ«**ï¼šä½¿ç”¨ LLM è¯†åˆ«æ ¸å¿ƒæŠ½è±¡æ¦‚å¿µ
- [x] **å…³ç³»åˆ†æ**ï¼šåˆ†ææŠ½è±¡ä¹‹é—´çš„äº¤äº’å…³ç³»
- [x] **æ•™ç¨‹ç”Ÿæˆ**ï¼šè‡ªåŠ¨ç”Ÿæˆ Markdown æ ¼å¼æ•™ç¨‹
- [x] **å¤šè¯­è¨€æ”¯æŒ**ï¼šæ”¯æŒä¸­æ–‡ã€è‹±æ–‡ç­‰å¤šè¯­è¨€æ•™ç¨‹

#### ä¼ä¸šçº§å¢å¼ºï¼ˆP1 - é‡è¦åŠŸèƒ½ï¼‰

- [ ] **æƒé™æ§åˆ¶**ï¼šåŸºäº Sa-Token çš„æƒé™ç®¡ç†
- [ ] **å¤šç§Ÿæˆ·æ”¯æŒ**ï¼šç§Ÿæˆ·çº§åˆ«çš„æ•°æ®éš”ç¦»
- [ ] **ç‰ˆæœ¬ç®¡ç†**ï¼šæ•™ç¨‹çš„ç‰ˆæœ¬æ§åˆ¶å’Œå†å²è®°å½•
- [ ] **åœ¨çº¿ç¼–è¾‘**ï¼šWeb ç•Œé¢ç¼–è¾‘å’Œé¢„è§ˆæ•™ç¨‹
- [ ] **å®¡æ ¸æµç¨‹**ï¼šæ•™ç¨‹å‘å¸ƒå‰çš„å®¡æ ¸æœºåˆ¶

#### æ‰©å±•åŠŸèƒ½ï¼ˆP2 - å¯é€‰åŠŸèƒ½ï¼‰

- [ ] **å¢é‡æ›´æ–°**ï¼šä»£ç å˜æ›´æ—¶å¢é‡æ›´æ–°æ•™ç¨‹
- [ ] **åä½œç¼–è¾‘**ï¼šå¤šäººå®æ—¶åä½œç¼–è¾‘
- [ ] **å¯¼å‡ºåŠŸèƒ½**ï¼šå¯¼å‡ºä¸º PDFã€HTML ç­‰æ ¼å¼
- [ ] **æœç´¢é›†æˆ**ï¼šä¸ codestyle-plugin-search é›†æˆ

### 2.2 æŠ€æœ¯ç›®æ ‡

- âœ… **éµå¾ª CodeStyle æœ€ä½³å®è·µ**ï¼šä»£ç é£æ ¼ã€æ¶æ„è®¾è®¡ã€å‘½åè§„èŒƒ
- âœ… **æ¨¡å—åŒ–è®¾è®¡**ï¼šæ’ä»¶åŒ–æ¶æ„ï¼Œå¯ç‹¬ç«‹éƒ¨ç½²
- âœ… **é«˜æ€§èƒ½**ï¼šå¼‚æ­¥å¤„ç†ã€æ‰¹é‡æ“ä½œã€ç¼“å­˜ä¼˜åŒ–
- âœ… **å¯æ‰©å±•**ï¼šæ”¯æŒè‡ªå®šä¹‰ LLM æä¾›å•†ã€è‡ªå®šä¹‰æ¨¡æ¿
- âœ… **å¯æµ‹è¯•**ï¼šå•å…ƒæµ‹è¯•è¦†ç›–ç‡ > 70%

### 2.3 éåŠŸèƒ½ç›®æ ‡

- **æ€§èƒ½**ï¼šå•ä¸ªä»£ç åº“åˆ†ææ—¶é—´ < 5 åˆ†é’Ÿï¼ˆä¸­ç­‰è§„æ¨¡é¡¹ç›®ï¼‰
- **å¯ç”¨æ€§**ï¼šç³»ç»Ÿå¯ç”¨æ€§ > 99.9%
- **å®‰å…¨æ€§**ï¼šæ•æ„Ÿæ•°æ®åŠ å¯†å­˜å‚¨ï¼ŒAPI è®¿é—®æ§åˆ¶
- **å¯ç»´æŠ¤æ€§**ï¼šä»£ç æ³¨é‡Šè¦†ç›–ç‡ > 60%ï¼Œæ–‡æ¡£å®Œå–„

---

## 3. æ¶æ„è®¾è®¡

### 3.1 æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     CodeStyle Admin                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ codestyle-   â”‚  â”‚ codestyle-   â”‚  â”‚ codestyle-   â”‚      â”‚
â”‚  â”‚ plugin-      â”‚  â”‚ plugin-      â”‚  â”‚ plugin-      â”‚      â”‚
â”‚  â”‚ generator    â”‚  â”‚ search       â”‚  â”‚ wiki         â”‚ â—„â”€â”€â”€ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                            â”‚                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                  â”‚
â”‚  â”‚      codestyle-system                â”‚ â”‚                  â”‚
â”‚  â”‚  (ç”¨æˆ·ã€è§’è‰²ã€æƒé™ã€ç§Ÿæˆ·ç­‰)           â”‚ â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                  â”‚
â”‚                                            â”‚                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                  â”‚
â”‚  â”‚      codestyle-common                â”‚ â”‚                  â”‚
â”‚  â”‚  (å·¥å…·ç±»ã€é…ç½®ã€å¼‚å¸¸å¤„ç†ç­‰)           â”‚ â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                  â”‚
â”‚                                            â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                             â”‚
                                             â–¼
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚   å¤–éƒ¨æœåŠ¡é›†æˆ            â”‚
                              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                              â”‚ â€¢ LLM API (Gemini/GPT)  â”‚
                              â”‚ â€¢ GitHub API            â”‚
                              â”‚ â€¢ Git ä»“åº“              â”‚
                              â”‚ â€¢ æ–‡ä»¶å­˜å‚¨æœåŠ¡          â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 æ¨¡å—åˆ†å±‚æ¶æ„

```
codestyle-plugin-wiki/
â”‚
â”œâ”€â”€ Controller å±‚ (REST API)
â”‚   â”œâ”€â”€ WikiProjectController      # é¡¹ç›®ç®¡ç†
â”‚   â”œâ”€â”€ WikiTutorialController     # æ•™ç¨‹ç®¡ç†
â”‚   â”œâ”€â”€ WikiChapterController      # ç« èŠ‚ç®¡ç†
â”‚   â””â”€â”€ WikiGenerateController     # ç”Ÿæˆä»»åŠ¡ç®¡ç†
â”‚
â”œâ”€â”€ Service å±‚ (ä¸šåŠ¡é€»è¾‘)
â”‚   â”œâ”€â”€ WikiProjectService         # é¡¹ç›®æœåŠ¡
â”‚   â”œâ”€â”€ WikiTutorialService        # æ•™ç¨‹æœåŠ¡
â”‚   â”œâ”€â”€ WikiChapterService         # ç« èŠ‚æœåŠ¡
â”‚   â”œâ”€â”€ WikiGenerateService        # ç”ŸæˆæœåŠ¡
â”‚   â””â”€â”€ WikiAnalysisService        # åˆ†ææœåŠ¡
â”‚
â”œâ”€â”€ Provider å±‚ (SPI å®ç°)
â”‚   â”œâ”€â”€ LlmProvider               # LLM æä¾›è€…æ¥å£
â”‚   â”‚   â”œâ”€â”€ GeminiLlmProvider     # Gemini å®ç°
â”‚   â”‚   â”œâ”€â”€ OpenAiLlmProvider     # OpenAI å®ç°
â”‚   â”‚   â””â”€â”€ OllamaLlmProvider     # Ollama å®ç°
â”‚   â”‚
â”‚   â””â”€â”€ CodeSourceProvider        # ä»£ç æºæä¾›è€…æ¥å£
â”‚       â”œâ”€â”€ GitHubSourceProvider  # GitHub å®ç°
â”‚       â””â”€â”€ LocalSourceProvider   # æœ¬åœ°ç›®å½•å®ç°
â”‚
â”œâ”€â”€ Workflow å±‚ (å·¥ä½œæµå¼•æ“)
â”‚   â”œâ”€â”€ WikiGenerateWorkflow      # æ•™ç¨‹ç”Ÿæˆå·¥ä½œæµ
â”‚   â”œâ”€â”€ nodes/                    # å·¥ä½œæµèŠ‚ç‚¹
â”‚   â”‚   â”œâ”€â”€ FetchCodeNode         # è·å–ä»£ç èŠ‚ç‚¹
â”‚   â”‚   â”œâ”€â”€ IdentifyAbstractionsNode  # è¯†åˆ«æŠ½è±¡èŠ‚ç‚¹
â”‚   â”‚   â”œâ”€â”€ AnalyzeRelationshipsNode  # åˆ†æå…³ç³»èŠ‚ç‚¹
â”‚   â”‚   â”œâ”€â”€ OrderChaptersNode     # æ’åºç« èŠ‚èŠ‚ç‚¹
â”‚   â”‚   â”œâ”€â”€ WriteChaptersNode     # ç¼–å†™ç« èŠ‚èŠ‚ç‚¹
â”‚   â”‚   â””â”€â”€ CombineTutorialNode   # ç»„åˆæ•™ç¨‹èŠ‚ç‚¹
â”‚   â”‚
â”‚   â””â”€â”€ executor/                 # æ‰§è¡Œå™¨
â”‚       â”œâ”€â”€ WorkflowExecutor      # å·¥ä½œæµæ‰§è¡Œå™¨
â”‚       â””â”€â”€ AsyncTaskExecutor     # å¼‚æ­¥ä»»åŠ¡æ‰§è¡Œå™¨
â”‚
â”œâ”€â”€ Mapper å±‚ (æ•°æ®è®¿é—®)
â”‚   â”œâ”€â”€ WikiProjectMapper
â”‚   â”œâ”€â”€ WikiTutorialMapper
â”‚   â”œâ”€â”€ WikiChapterMapper
â”‚   â””â”€â”€ WikiGenerateTaskMapper
â”‚
â””â”€â”€ Model å±‚ (æ•°æ®æ¨¡å‹)
    â”œâ”€â”€ entity/                   # å®ä½“ç±»
    â”œâ”€â”€ query/                    # æŸ¥è¯¢å¯¹è±¡
    â”œâ”€â”€ request/                  # è¯·æ±‚å¯¹è±¡
    â””â”€â”€ response/                 # å“åº”å¯¹è±¡
```

### 3.3 å·¥ä½œæµè®¾è®¡

```mermaid
flowchart TD
    Start([ç”¨æˆ·å‘èµ·ç”Ÿæˆè¯·æ±‚]) --> A[åˆ›å»ºç”Ÿæˆä»»åŠ¡]
    A --> B[FetchCodeNode<br/>è·å–ä»£ç æ–‡ä»¶]
    B --> C[IdentifyAbstractionsNode<br/>è¯†åˆ«æ ¸å¿ƒæŠ½è±¡]
    C --> D[AnalyzeRelationshipsNode<br/>åˆ†ææŠ½è±¡å…³ç³»]
    D --> E[OrderChaptersNode<br/>ç¡®å®šç« èŠ‚é¡ºåº]
    E --> F[WriteChaptersNode<br/>æ‰¹é‡ç¼–å†™ç« èŠ‚]
    F --> G[CombineTutorialNode<br/>ç»„åˆæ•™ç¨‹æ–‡ä»¶]
    G --> H[ä¿å­˜åˆ°æ•°æ®åº“]
    H --> End([ç”Ÿæˆå®Œæˆ])
    
    B -.å¼‚å¸¸.-> Error[è®°å½•é”™è¯¯æ—¥å¿—]
    C -.å¼‚å¸¸.-> Error
    D -.å¼‚å¸¸.-> Error
    E -.å¼‚å¸¸.-> Error
    F -.å¼‚å¸¸.-> Error
    G -.å¼‚å¸¸.-> Error
    Error --> Retry{æ˜¯å¦é‡è¯•?}
    Retry -->|æ˜¯| B
    Retry -->|å¦| Failed([ä»»åŠ¡å¤±è´¥])
```

---

## 4. æŠ€æœ¯é€‰å‹

### 4.1 åç«¯æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” | è¯´æ˜ |
|------|------|------|------|
| Spring Boot | 3.2.x | åº”ç”¨æ¡†æ¶ | ä¸ç°æœ‰é¡¹ç›®ä¿æŒä¸€è‡´ |
| MyBatis-Plus | 3.5.x | ORM æ¡†æ¶ | æ•°æ®åº“æ“ä½œ |
| Sa-Token | 1.37.x | è®¤è¯æˆæƒ | æƒé™æ§åˆ¶ |
| Hutool | 5.8.x | å·¥å…·åº“ | å¸¸ç”¨å·¥å…·ç±» |
| OkHttp | 4.x | HTTP å®¢æˆ·ç«¯ | è°ƒç”¨ LLM API |
| Jackson | 2.15.x | JSON å¤„ç† | åºåˆ—åŒ–/ååºåˆ—åŒ– |
| Redisson | 3.x | åˆ†å¸ƒå¼é” | ä»»åŠ¡å¹¶å‘æ§åˆ¶ |
| Spring Async | - | å¼‚æ­¥å¤„ç† | å¼‚æ­¥ä»»åŠ¡æ‰§è¡Œ |

### 4.2 LLM é›†æˆ

| LLM æä¾›å•† | ä¼˜å…ˆçº§ | è¯´æ˜ |
|-----------|--------|------|
| Google Gemini | P0 | é»˜è®¤æä¾›å•†ï¼Œæ€§ä»·æ¯”é«˜ |
| OpenAI GPT | P1 | å¤‡é€‰æ–¹æ¡ˆï¼Œè´¨é‡é«˜ |
| Ollama | P1 | æœ¬åœ°éƒ¨ç½²ï¼Œæ•°æ®å®‰å…¨ |
| é€šä¹‰åƒé—® | P2 | å›½å†…å¤‡é€‰ |
| æ–‡å¿ƒä¸€è¨€ | P2 | å›½å†…å¤‡é€‰ |

### 4.3 å‰ç«¯æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Vue 3 | 3.x | å‰ç«¯æ¡†æ¶ |
| TypeScript | 5.x | ç±»å‹ç³»ç»Ÿ |
| Arco Design | 2.x | UI ç»„ä»¶åº“ |
| Pinia | 2.x | çŠ¶æ€ç®¡ç† |
| Vite | 5.x | æ„å»ºå·¥å…· |
| Monaco Editor | - | ä»£ç ç¼–è¾‘å™¨ |
| Markdown-it | - | Markdown æ¸²æŸ“ |
| Mermaid | - | å›¾è¡¨æ¸²æŸ“ |

### 4.4 å­˜å‚¨æ–¹æ¡ˆ

| ç±»å‹ | æŠ€æœ¯ | ç”¨é€” |
|------|------|------|
| å…³ç³»æ•°æ®åº“ | MySQL 8.0 | ç»“æ„åŒ–æ•°æ®å­˜å‚¨ |
| ç¼“å­˜ | Redis | LLM å“åº”ç¼“å­˜ã€åˆ†å¸ƒå¼é” |
| æ–‡ä»¶å­˜å‚¨ | æœ¬åœ°/OSS | ä»£ç æ–‡ä»¶ã€ç”Ÿæˆçš„æ–‡æ¡£ |

---

## 5. æ¨¡å—ç»“æ„

### 5.1 ç›®å½•ç»“æ„

```
codestyle-plugin-wiki/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”œâ”€â”€ java/top/codestyle/admin/wiki/
â”‚   â”‚   â”‚   â”œâ”€â”€ config/                    # é…ç½®ç±»
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ WikiProperties.java    # æ¨¡å—é…ç½®
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ LlmConfig.java         # LLM é…ç½®
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AsyncConfig.java       # å¼‚æ­¥é…ç½®
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ RedisConfig.java       # Redis é…ç½®
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ controller/                # æ§åˆ¶å™¨
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ WikiProjectController.java
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ WikiTutorialController.java
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ WikiChapterController.java
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ WikiGenerateController.java
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ service/                   # æœåŠ¡æ¥å£
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ WikiProjectService.java
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ WikiTutorialService.java
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ WikiChapterService.java
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ WikiGenerateService.java
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ WikiAnalysisService.java
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ service/impl/              # æœåŠ¡å®ç°
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ WikiProjectServiceImpl.java
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ WikiTutorialServiceImpl.java
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ WikiChapterServiceImpl.java
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ WikiGenerateServiceImpl.java
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ WikiAnalysisServiceImpl.java
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ provider/                  # SPI æä¾›è€…
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ spi/                   # SPI æ¥å£
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ LlmProvider.java
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ CodeSourceProvider.java
â”‚   â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ llm/                   # LLM å®ç°
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ GeminiLlmProvider.java
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ OpenAiLlmProvider.java
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ OllamaLlmProvider.java
â”‚   â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ source/                # ä»£ç æºå®ç°
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ GitHubSourceProvider.java
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ LocalSourceProvider.java
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ workflow/                  # å·¥ä½œæµ
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ WikiGenerateWorkflow.java
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ nodes/                 # å·¥ä½œæµèŠ‚ç‚¹
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ BaseNode.java
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ FetchCodeNode.java
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ IdentifyAbstractionsNode.java
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AnalyzeRelationshipsNode.java
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ OrderChaptersNode.java
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ WriteChaptersNode.java
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ CombineTutorialNode.java
â”‚   â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ executor/              # æ‰§è¡Œå™¨
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ WorkflowExecutor.java
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ AsyncTaskExecutor.java
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ mapper/                    # æ•°æ®è®¿é—®
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ WikiProjectMapper.java
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ WikiTutorialMapper.java
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ WikiChapterMapper.java
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ WikiGenerateTaskMapper.java
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ model/                     # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ entity/                # å®ä½“ç±»
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ WikiProjectDO.java
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ WikiTutorialDO.java
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ WikiChapterDO.java
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ WikiAbstractionDO.java
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ WikiRelationshipDO.java
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ WikiGenerateTaskDO.java
â”‚   â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ query/                 # æŸ¥è¯¢å¯¹è±¡
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ WikiProjectQuery.java
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ WikiTutorialQuery.java
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ WikiChapterQuery.java
â”‚   â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ request/               # è¯·æ±‚å¯¹è±¡
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ WikiProjectReq.java
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ WikiTutorialReq.java
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ WikiChapterReq.java
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ WikiGenerateReq.java
â”‚   â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ response/              # å“åº”å¯¹è±¡
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ WikiProjectResp.java
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ WikiTutorialResp.java
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ WikiChapterResp.java
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ WikiGenerateTaskResp.java
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ enums/                     # æšä¸¾ç±»
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ LlmProviderType.java
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CodeSourceType.java
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ GenerateStatus.java
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ TutorialLanguage.java
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ util/                      # å·¥å…·ç±»
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ LlmUtils.java
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ GitUtils.java
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MarkdownUtils.java
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ MermaidUtils.java
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â””â”€â”€ constant/                  # å¸¸é‡ç±»
â”‚   â”‚   â”‚       â”œâ”€â”€ WikiConstants.java
â”‚   â”‚   â”‚       â””â”€â”€ PromptConstants.java
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ resources/
â”‚   â”‚       â”œâ”€â”€ mapper/                    # MyBatis XML
â”‚   â”‚       â”‚   â”œâ”€â”€ WikiProjectMapper.xml
â”‚   â”‚       â”‚   â”œâ”€â”€ WikiTutorialMapper.xml
â”‚   â”‚       â”‚   â”œâ”€â”€ WikiChapterMapper.xml
â”‚   â”‚       â”‚   â””â”€â”€ WikiGenerateTaskMapper.xml
â”‚   â”‚       â”‚
â”‚   â”‚       â”œâ”€â”€ prompts/                   # LLM æç¤ºè¯æ¨¡æ¿
â”‚   â”‚       â”‚   â”œâ”€â”€ identify_abstractions.txt
â”‚   â”‚       â”‚   â”œâ”€â”€ analyze_relationships.txt
â”‚   â”‚       â”‚   â”œâ”€â”€ order_chapters.txt
â”‚   â”‚       â”‚   â””â”€â”€ write_chapter.txt
â”‚   â”‚       â”‚
â”‚   â”‚       â””â”€â”€ application-wiki.yml       # æ¨¡å—é…ç½®
â”‚   â”‚
â”‚   â””â”€â”€ test/                              # æµ‹è¯•ä»£ç 
â”‚       â””â”€â”€ java/top/codestyle/admin/wiki/
â”‚           â”œâ”€â”€ service/
â”‚           â”œâ”€â”€ workflow/
â”‚           â””â”€â”€ provider/
â”‚
â”œâ”€â”€ pom.xml                                # Maven é…ç½®
â”œâ”€â”€ README.md                              # æ¨¡å—è¯´æ˜
â”œâ”€â”€ DESIGN.md                              # è®¾è®¡æ–‡æ¡£
â””â”€â”€ MIGRATION_GUIDE.md                     # è¿ç§»æŒ‡å—
```

### 5.2 Maven ä¾èµ–é…ç½®

```xml
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 
         http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>
    
    <parent>
        <groupId>top.codestyle</groupId>
        <artifactId>codestyle-plugin</artifactId>
        <version>4.1.0</version>
    </parent>
    
    <artifactId>codestyle-plugin-wiki</artifactId>
    <name>${project.artifactId}</name>
    <description>Wiki æ•™ç¨‹ç”Ÿæˆæ’ä»¶</description>
    
    <dependencies>
        <!-- CodeStyle ä¾èµ– -->
        <dependency>
            <groupId>top.codestyle</groupId>
            <artifactId>codestyle-common</artifactId>
        </dependency>
        
        <!-- Spring Boot -->
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-web</artifactId>
        </dependency>
        
        <!-- MyBatis-Plus -->
        <dependency>
            <groupId>com.baomidou</groupId>
            <artifactId>mybatis-plus-spring-boot3-starter</artifactId>
        </dependency>
        
        <!-- Redis -->
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-data-redis</artifactId>
        </dependency>
        <dependency>
            <groupId>org.redisson</groupId>
            <artifactId>redisson-spring-boot-starter</artifactId>
        </dependency>
        
        <!-- HTTP å®¢æˆ·ç«¯ -->
        <dependency>
            <groupId>com.squareup.okhttp3</groupId>
            <artifactId>okhttp</artifactId>
        </dependency>
        
        <!-- Git æ“ä½œ -->
        <dependency>
            <groupId>org.eclipse.jgit</groupId>
            <artifactId>org.eclipse.jgit</artifactId>
            <version>6.8.0.202311291450-r</version>
        </dependency>
        
        <!-- YAML è§£æ -->
        <dependency>
            <groupId>org.yaml</groupId>
            <artifactId>snakeyaml</artifactId>
        </dependency>
        
        <!-- Markdown å¤„ç† -->
        <dependency>
            <groupId>com.vladsch.flexmark</groupId>
            <artifactId>flexmark-all</artifactId>
            <version>0.64.8</version>
        </dependency>
        
        <!-- æµ‹è¯•ä¾èµ– -->
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-test</artifactId>
            <scope>test</scope>
        </dependency>
    </dependencies>
</project>
```

---

## 6. æ ¸å¿ƒåŠŸèƒ½è®¾è®¡

è¯¦è§ [WIKI_MIGRATION_PLAN_PART2.md](./WIKI_MIGRATION_PLAN_PART2.md)

---

## 7. æ•°æ®åº“è®¾è®¡

è¯¦è§ [WIKI_MIGRATION_PLAN_PART2.md](./WIKI_MIGRATION_PLAN_PART2.md)

---

## 8. API è®¾è®¡

è¯¦è§ [WIKI_MIGRATION_PLAN_PART3.md](./WIKI_MIGRATION_PLAN_PART3.md)

---

## 9. å‰ç«¯è®¾è®¡

è¯¦è§ [WIKI_MIGRATION_PLAN_PART3.md](./WIKI_MIGRATION_PLAN_PART3.md)

---

## 10. å®æ–½è®¡åˆ’

è¯¦è§ [WIKI_MIGRATION_PLAN_PART4.md](./WIKI_MIGRATION_PLAN_PART4.md)

---

## 11. é£é™©è¯„ä¼°

è¯¦è§ [WIKI_MIGRATION_PLAN_PART4.md](./WIKI_MIGRATION_PLAN_PART4.md)

---

## 12. é™„å½•

è¯¦è§ [WIKI_MIGRATION_PLAN_PART4.md](./WIKI_MIGRATION_PLAN_PART4.md)

---

**æ–‡æ¡£ç»´æŠ¤**: CodeStyle Team  
**æœ€åæ›´æ–°**: 2026-01-29

